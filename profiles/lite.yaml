# This profile creates a cluster with all the dependencies needed for running Platformatic
# but does not install icc or machinist. This is useful for testing the icc install
# scripts.

# Schema version
version: 4

cluster:
  k3d:
    nodes: 1

dependencies:
  prometheus-community/prometheus-adapter:
    plt_defaults: true
  prometheus-community/kube-prometheus-stack:
    plt_defaults: true
  bitnamicharts/postgresql:
    plt_defaults: true
  bitnamicharts/valkey:
    plt_defaults: true
  local/traefik:
    plt_defaults: false

platformatic:
  skip: true
